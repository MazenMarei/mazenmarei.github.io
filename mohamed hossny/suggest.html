<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>login</title>
        <link rel="icon" type="image/png" href="./images/logo.png">
    <link rel="stylesheet" href="login.css">
    <!-- icons -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type= "text/javascript" src="../components.js"></script>
</head>
<body> 
    <!-- <header-box></header> -->
<div class="wrapper">
    <form id="form" action="" onsubmit="savesugg(event)">
        <h1>suggest a game</h1>
        <div class="input-box">
            <input id="name" type="text" placeholder="name">
            <div id="error-name"></div>
        </div>
        
        <div class="input-box">
            <input id="category" type="text" placeholder="category">
            <div id="error-cat"></div>
        </div>
        <button type="submit" class="btn">submit</button>
        <div id="message"></div>
    </form>
</div>
<script>
    const name = document.getElementById('name');
    const categ = document.getElementById('category');
    const form = document.getElementById('form');
    const error_name = document.getElementById('error-name');
    const error_cat = document.getElementById('error-cat');
    const messageDiv = document.getElementById('message');

    form.addEventListener('submit', (e)=>
    {   
        let valid = true;
        if(name.value === '' || name.value == null){
            e.preventDefault();
            error_name.innerText = "name is required"
            setTimeout(() => {
                error_name.innerText = '';
            }, 3000);
            valid = false;
        }else{
            error_name.innerText="";
        }
        if(categ.value === '' || categ.value == null){
            e.preventDefault();
            error_cat.innerText = "category is required"
            setTimeout(() => {
                error_cat.innerText = '';
            }, 3000);
            valid = false;
        }else{
            error_cat.innerText="";
        }
            if (valid) {
                e.preventDefault();
                savesugg();
            }else{
                messageDiv.innerText = '';
            }
    });
        function savesugg() {
            let NAME = document.getElementById("name").value;
            let CATEGORY = document.getElementById("category").value;
            localStorage.setItem('name', NAME);
            localStorage.setItem('category', CATEGORY);
            messageDiv.innerText = 'suggestion submitted successfully';
            setTimeout(() => {
                messageDiv.innerText = '';
            }, 3000);

        }
</script>
      <!-- page footer custom Element components made by mazen ðŸ¥° -->
</body>
</html>
